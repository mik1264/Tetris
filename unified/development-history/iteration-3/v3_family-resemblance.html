<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Resemblance - A Language Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 1100px;
            width: 100%;
            background: rgba(255, 255, 255, 0.98);
            color: #333;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            font-style: italic;
            margin-bottom: 30px;
            color: #666;
        }

        .intro-screen, .game-screen, .victory-screen {
            display: none;
        }

        .intro-screen.active, .game-screen.active, .victory-screen.active {
            display: block;
        }

        .quote {
            background: linear-gradient(135deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1));
            border-left: 4px solid #6a11cb;
            padding: 20px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 5px;
        }

        .network-container {
            background: #f8f9fa;
            border: 3px solid #dee2e6;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            min-height: 400px;
            position: relative;
        }

        .concept-word {
            text-align: center;
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
        }

        .uses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .use-card {
            background: white;
            border: 3px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            cursor: move;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .use-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(106, 17, 203, 0.3);
        }

        .use-card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .use-card .icon {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 10px;
        }

        .use-card .usage {
            font-weight: bold;
            margin-bottom: 8px;
            color: #6a11cb;
        }

        .use-card .example {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }

        .use-card .properties {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #dee2e6;
            font-size: 0.85em;
        }

        .property-tag {
            display: inline-block;
            padding: 3px 8px;
            margin: 2px;
            background: #e9ecef;
            border-radius: 4px;
            font-size: 0.8em;
        }

        .groups-area {
            display: flex;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .group-dropzone {
            flex: 1;
            min-width: 300px;
            min-height: 200px;
            background: #f8f9fa;
            border: 3px dashed #adb5bd;
            border-radius: 12px;
            padding: 20px;
            position: relative;
        }

        .group-dropzone.drag-over {
            background: rgba(106, 17, 203, 0.1);
            border-color: #6a11cb;
            border-style: solid;
        }

        .group-dropzone h3 {
            color: #6a11cb;
            margin-bottom: 15px;
            text-align: center;
        }

        .group-description {
            text-align: center;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
            font-style: italic;
        }

        .group-dropzone .use-card {
            margin-bottom: 10px;
        }

        .matching-challenge {
            background: linear-gradient(135deg, #e9ecef, #f8f9fa);
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .matching-challenge h3 {
            color: #6a11cb;
            margin-bottom: 15px;
        }

        .connection-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
            justify-content: center;
        }

        .connection-button {
            padding: 12px 25px;
            background: white;
            border: 2px solid #6a11cb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Georgia', serif;
            font-size: 1em;
        }

        .connection-button:hover {
            background: #6a11cb;
            color: white;
            transform: scale(1.05);
        }

        .connection-button.selected {
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            color: white;
            border-color: #2575fc;
        }

        .connection-button.correct {
            background: #28a745;
            border-color: #28a745;
            color: white;
        }

        .connection-button.incorrect {
            background: #dc3545;
            border-color: #dc3545;
            color: white;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
            line-height: 1.6;
        }

        .feedback.show {
            display: block;
        }

        .feedback.success {
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid #28a745;
            color: #155724;
        }

        .feedback.error {
            background: rgba(220, 53, 69, 0.1);
            border: 2px solid #dc3545;
            color: #721c24;
        }

        .score-panel {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .score-item {
            text-align: center;
        }

        .score-item .label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .score-item .value {
            font-size: 1.8em;
            font-weight: bold;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1em;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            margin: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.4);
        }

        .button-container {
            text-align: center;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            transition: width 0.5s;
        }

        .venn-diagram {
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 12px;
            text-align: center;
        }

        .venn-circles {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .venn-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 3px solid;
            background: rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Intro Screen -->
        <div class="intro-screen active">
            <h1>Family Resemblance</h1>
            <p class="subtitle">Discover Overlapping Networks of Meaning</p>

            <div class="quote">
                "And the result of this examination is: we see a complicated network of similarities overlapping and criss-crossing: sometimes overall similarities, sometimes similarities of detail."
                <br><br>
                <strong>â€” Ludwig Wittgenstein, Philosophical Investigations Â§66</strong>
            </div>

            <div style="margin: 30px 0; line-height: 1.8;">
                <p>What do games have in common? Chess, tennis, solitaire, ring-around-the-rosy?</p>
                <br>
                <p>Wittgenstein realized: <strong>there's no single essence</strong> all games share. Instead, they have "family resemblances"â€”overlapping similarities, like family members who share a nose, or eye color, or gait, but no single feature common to all.</p>
                <br>
                <p>In this game, you'll explore how word meanings form <strong>networks of overlapping uses</strong>, not strict hierarchies or definitions.</p>
            </div>

            <div class="quote">
                <strong>The Challenge:</strong> Group different uses of words by their family resemblances. Discover which uses share properties, even when there's no single feature common to all.
            </div>

            <div class="button-container">
                <button onclick="startGame()">Explore Resemblances</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div class="game-screen">
            <h1>Family Resemblance</h1>

            <div class="score-panel">
                <div class="score-item">
                    <div class="label">Insight Points</div>
                    <div class="value" id="score">0</div>
                </div>
                <div class="score-item">
                    <div class="label">Concept</div>
                    <div class="value" id="conceptNum">1</div>
                </div>
                <div class="score-item">
                    <div class="label">Connections Found</div>
                    <div class="value" id="connections">0</div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="network-container">
                <div class="concept-word" id="conceptWord">GAME</div>

                <div class="matching-challenge">
                    <h3 id="challengeTitle">Which uses share a family resemblance?</h3>
                    <p id="challengeDescription" style="color: #666; margin-bottom: 20px;"></p>

                    <div id="challengeArea"></div>

                    <div class="feedback" id="feedback"></div>
                </div>
            </div>

            <div class="button-container">
                <button onclick="nextChallenge()" id="nextButton" style="display: none;">Next Challenge â†’</button>
            </div>
        </div>

        <!-- Victory Screen -->
        <div class="victory-screen">
            <h1>ðŸŽ“ Pattern Recognition Master!</h1>

            <div class="quote">
                "I can think of no better expression to characterize these similarities than 'family resemblances'."
                <br><br>
                <strong>â€” Ludwig Wittgenstein</strong>
            </div>

            <div class="score-panel">
                <div class="score-item">
                    <div class="label">Final Insight Points</div>
                    <div class="value" id="finalScore">0</div>
                </div>
                <div class="score-item">
                    <div class="label">Connections Discovered</div>
                    <div class="value" id="finalConnections">0</div>
                </div>
            </div>

            <div style="margin: 30px 0; line-height: 1.8; background: linear-gradient(135deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1)); padding: 25px; border-radius: 12px;">
                <h3 style="color: #6a11cb; margin-bottom: 15px;">What You've Discovered:</h3>
                <p><strong>No Essential Definitions:</strong> Words like "game" don't have a single feature common to all usesâ€”instead, they form networks of overlapping similarities.</p>
                <br>
                <p><strong>Family Resemblances:</strong> Like family members sharing various traits without one universal feature, word meanings overlap in complex ways.</p>
                <br>
                <p><strong>Networks, Not Hierarchies:</strong> Meaning isn't organized in neat categories with necessary and sufficient conditionsâ€”it's a web of crisscrossing similarities.</p>
                <br>
                <p><strong>Philosophical Impact:</strong> This dissolves many traditional philosophical problems that assume words must have precise, universal definitions.</p>
            </div>

            <div class="button-container">
                <button onclick="location.reload()">Explore More Resemblances</button>
            </div>
        </div>
    </div>

    <script>
        const gameState = {
            score: 0,
            conceptIndex: 0,
            challengeIndex: 0,
            connections: 0
        };

        const concepts = [
            {
                word: "GAME",
                challenges: [
                    {
                        type: "select",
                        question: "Which of these uses of 'game' share the property of COMPETITION?",
                        description: "Select all that involve competing against opponents",
                        options: [
                            { text: "Chess (strategic board game)", correct: true, properties: ["Competition", "Rules", "Winning/Losing", "Skill"] },
                            { text: "Ring-around-the-rosy (children's play)", correct: false, properties: ["Rules", "Amusement", "Social"] },
                            { text: "Tennis (sport)", correct: true, properties: ["Competition", "Rules", "Winning/Losing", "Physical", "Skill"] },
                            { text: "Solitaire (card game alone)", correct: false, properties: ["Rules", "Amusement", "Winning/Losing"] }
                        ],
                        explanation: "Chess and Tennis both involve competition, but notice: Ring-around-the-rosy and Solitaire are still 'games' without this feature. There's no single property all games share!"
                    },
                    {
                        type: "select",
                        question: "Which uses share the property of having WINNING and LOSING?",
                        description: "Select all where you can win or lose",
                        options: [
                            { text: "Chess", correct: true },
                            { text: "Throwing a ball against a wall (solo play)", correct: false },
                            { text: "Tennis", correct: true },
                            { text: "A child making up imaginary play", correct: false }
                        ],
                        explanation: "Some games have winners and losers, others don't. Yet we call all of them 'games.' The concept has no necessary featureâ€”only family resemblances!"
                    },
                    {
                        type: "select",
                        question: "Which share the property of being AMUSING/FUN?",
                        description: "Select all primarily for entertainment",
                        options: [
                            { text: "Professional Olympic sport", correct: false },
                            { text: "Children's make-believe", correct: true },
                            { text: "Career poker (livelihood)", correct: false },
                            { text: "Board game night with friends", correct: true }
                        ],
                        explanation: "Some games are for fun, others are serious professions. Family resemblances overlap: fun connects some games, but not all. The network has no center!"
                    }
                ]
            },
            {
                word: "LANGUAGE",
                challenges: [
                    {
                        type: "select",
                        question: "Which uses of 'language' share the property of having GRAMMAR?",
                        description: "Select all with grammatical rules",
                        options: [
                            { text: "English (spoken language)", correct: true },
                            { text: "Traffic signals (communication)", correct: false },
                            { text: "Python (programming language)", correct: true },
                            { text: "Facial expressions (non-verbal)", correct: false }
                        ],
                        explanation: "English and Python have grammar, but traffic signals and facial expressions communicate without it. Yet we call all of these 'language' in some sense!"
                    },
                    {
                        type: "select",
                        question: "Which share the property of being LEARNED socially?",
                        description: "Select all learned through social interaction",
                        options: [
                            { text: "Mother tongue (native language)", correct: true },
                            { text: "Genetic code (DNA)", correct: false },
                            { text: "Sign language", correct: true },
                            { text: "Mathematical notation", correct: true }
                        ],
                        explanation: "Some 'languages' are learned socially, others (like genetic code) aren't. The word connects different practices through overlapping resemblances."
                    }
                ]
            },
            {
                word: "WORK",
                challenges: [
                    {
                        type: "select",
                        question: "Which uses of 'work' involve being PAID?",
                        description: "Select all where payment is involved",
                        options: [
                            { text: "Office job (employment)", correct: true },
                            { text: "Volunteer work (unpaid service)", correct: false },
                            { text: "Freelance project", correct: true },
                            { text: "Homework (student assignment)", correct: false }
                        ],
                        explanation: "Payment connects some uses of 'work' but not others. Volunteer work and homework are 'work' without pay. No essential feature!"
                    },
                    {
                        type: "select",
                        question: "Which involve PHYSICAL effort?",
                        description: "Select all requiring physical labor",
                        options: [
                            { text: "Construction work", correct: true },
                            { text: "Desk work (computer tasks)", correct: false },
                            { text: "Farm work", correct: true },
                            { text: "Intellectual work (research)", correct: false }
                        ],
                        explanation: "Physical effort characterizes some work, mental effort others. The concept stretches across both through family resemblance."
                    }
                ]
            }
        ];

        let currentConcept = concepts[0];
        let currentChallenge = null;
        let selectedOptions = new Set();

        function startGame() {
            document.querySelector('.intro-screen').classList.remove('active');
            document.querySelector('.game-screen').classList.add('active');
            loadChallenge();
        }

        function loadChallenge() {
            // Check if we've completed all concepts
            if (gameState.conceptIndex >= concepts.length) {
                showVictory();
                return;
            }

            currentConcept = concepts[gameState.conceptIndex];

            // Check if we've completed all challenges for current concept
            if (gameState.challengeIndex >= currentConcept.challenges.length) {
                gameState.conceptIndex++;
                gameState.challengeIndex = 0;
                if (gameState.conceptIndex < concepts.length) {
                    loadChallenge();
                } else {
                    showVictory();
                }
                return;
            }

            currentChallenge = currentConcept.challenges[gameState.challengeIndex];
            selectedOptions.clear();

            // Update UI
            document.getElementById('conceptWord').textContent = currentConcept.word;
            document.getElementById('challengeTitle').textContent = currentChallenge.question;
            document.getElementById('challengeDescription').textContent = currentChallenge.description;

            // Create challenge interface
            const challengeArea = document.getElementById('challengeArea');
            challengeArea.innerHTML = '<div class="connection-buttons" id="optionButtons"></div>';

            const buttonsContainer = document.getElementById('optionButtons');

            currentChallenge.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'connection-button';
                button.textContent = option.text;
                button.onclick = () => toggleOption(index, button);
                buttonsContainer.appendChild(button);
            });

            // Add submit button
            const submitBtn = document.createElement('button');
            submitBtn.textContent = 'Check Answer';
            submitBtn.style.width = '100%';
            submitBtn.style.marginTop = '20px';
            submitBtn.onclick = checkAnswer;
            challengeArea.appendChild(submitBtn);

            document.getElementById('feedback').classList.remove('show');
            document.getElementById('nextButton').style.display = 'none';

            updateProgress();
            updateScore();
        }

        function toggleOption(index, button) {
            if (selectedOptions.has(index)) {
                selectedOptions.delete(index);
                button.classList.remove('selected');
            } else {
                selectedOptions.add(index);
                button.classList.add('selected');
            }
        }

        function checkAnswer() {
            const buttons = document.querySelectorAll('.connection-button');
            let correct = true;

            // Disable all buttons
            buttons.forEach((btn, index) => {
                btn.onclick = null;
                const option = currentChallenge.options[index];

                if (option.correct && selectedOptions.has(index)) {
                    btn.classList.add('correct');
                } else if (!option.correct && selectedOptions.has(index)) {
                    btn.classList.add('incorrect');
                    correct = false;
                } else if (option.correct && !selectedOptions.has(index)) {
                    btn.classList.add('correct');
                    correct = false;
                }
            });

            const feedback = document.getElementById('feedback');

            if (correct) {
                feedback.className = 'feedback success show';
                feedback.innerHTML = `
                    <strong>ðŸŽ¯ Excellent!</strong> You identified the family resemblance!
                    <br><br>
                    <strong>Insight:</strong> ${currentChallenge.explanation}
                `;
                gameState.score += 100;
                gameState.connections++;
            } else {
                feedback.className = 'feedback error show';
                feedback.innerHTML = `
                    <strong>Not quite.</strong> Let's look at the pattern...
                    <br><br>
                    <strong>Insight:</strong> ${currentChallenge.explanation}
                `;
                gameState.score += 30;
            }

            updateScore();
            document.getElementById('nextButton').style.display = 'inline-block';

            // Disable submit button
            document.querySelector('#challengeArea button[onclick]').onclick = null;
        }

        function nextChallenge() {
            gameState.challengeIndex++;
            loadChallenge();
        }

        function updateScore() {
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('conceptNum').textContent = gameState.conceptIndex + 1;
            document.getElementById('connections').textContent = gameState.connections;
        }

        function updateProgress() {
            const totalChallenges = concepts.reduce((sum, c) => sum + c.challenges.length, 0);
            const completedChallenges = concepts.slice(0, gameState.conceptIndex).reduce((sum, c) => sum + c.challenges.length, 0) + gameState.challengeIndex;
            const progress = (completedChallenges / totalChallenges) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showVictory() {
            document.querySelector('.game-screen').classList.remove('active');
            document.querySelector('.victory-screen').classList.add('active');

            document.getElementById('finalScore').textContent = gameState.score;
            document.getElementById('finalConnections').textContent = gameState.connections;
        }
    </script>
</body>
</html>
