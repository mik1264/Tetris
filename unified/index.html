<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tetris Universe - 166 Innovative Games Collection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --accent: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --light: #f3f4f6;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="20" height="20" x="0" y="0" fill="rgba(255,255,255,0.03)"/><rect width="20" height="20" x="40" y="20" fill="rgba(255,255,255,0.03)"/><rect width="20" height="20" x="20" y="40" fill="rgba(255,255,255,0.03)"/><rect width="20" height="20" x="60" y="60" fill="rgba(255,255,255,0.03)"/><rect width="20" height="20" x="80" y="80" fill="rgba(255,255,255,0.03)"/></svg>') repeat;
            animation: float 20s infinite linear;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-100px, -100px) rotate(360deg); }
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* Header Section */
        .header {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 3.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: 10px;
            font-weight: 800;
            letter-spacing: -2px;
        }

        .subtitle {
            text-align: center;
            font-size: 1.3em;
            color: #6b7280;
            margin-bottom: 30px;
        }

        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.1);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .stat-card:hover::before {
            transform: translateX(0);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Featured Games Section */
        .featured-section {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }

        .section-title {
            font-size: 2em;
            margin-bottom: 20px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.2em;
        }

        .featured-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .featured-card {
            background: linear-gradient(135deg, #fff 0%, #f9fafb 100%);
            border: 2px solid transparent;
            background-clip: padding-box;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .featured-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            border-color: var(--primary);
        }

        .featured-preview {
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        /* Game preview patterns - each unique */
        .preview-chronotris {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
        }

        .preview-chronotris::before {
            content: '‚è∞ Past | Present | Future ‚è∞';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
        }

        .preview-quantris {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            position: relative;
        }

        .preview-quantris::before {
            content: '‚öõÔ∏è Quantum Superposition ‚öõÔ∏è';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #22d3ee;
            font-size: 1.5em;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        .preview-diplomtetris {
            background: linear-gradient(135deg, #065f46 0%, #047857 100%);
        }

        .preview-diplomtetris::before {
            content: 'ü§ù Negotiate & Trade ü§ù';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.5em;
            font-weight: bold;
        }

        .preview-empathris {
            background: linear-gradient(135deg, #be185d 0%, #db2777 100%);
        }

        .preview-empathris::before {
            content: '‚ù§Ô∏è Emotion Responsive ‚ù§Ô∏è';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.5em;
            font-weight: bold;
        }

        .preview-symphtetris {
            background: linear-gradient(135deg, #7c2d12 0%, #92400e 100%);
        }

        .preview-symphtetris::before {
            content: 'üéµ Compose Music üéµ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fbbf24;
            font-size: 1.5em;
            font-weight: bold;
            animation: bounce 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes bounce {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        .featured-content {
            padding: 20px;
        }

        .featured-title {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .featured-description {
            color: #6b7280;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .featured-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .tag {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .tag-innovation { background: #fef3c7; color: #92400e; }
        .tag-3d { background: #dbeafe; color: #1e40af; }
        .tag-music { background: #fce7f3; color: #9f1239; }
        .tag-ai { background: #d9f99d; color: #3f6212; }
        .tag-memory { background: #e0e7ff; color: #3730a3; }
        .tag-physics { background: #fed7aa; color: #9a3412; }

        .play-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px 30px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }

        /* Filter Section */
        .filter-section {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .filter-controls {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-container {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            color: var(--dark);
        }

        .filter-btn:hover {
            border-color: var(--primary);
            background: var(--light);
        }

        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .sort-dropdown {
            padding: 10px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            font-weight: 600;
        }

        /* Categories Section */
        .categories-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .category-card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .category-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .category-title {
            font-size: 1.3em;
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .category-count {
            color: #6b7280;
            font-size: 0.9em;
        }

        .category-description {
            color: #6b7280;
            margin-top: 10px;
            line-height: 1.5;
            font-size: 0.95em;
        }

        /* Games Grid */
        .games-section {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .game-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .game-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .game-preview {
            height: 150px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
        }

        /* Different gradient patterns for each category */
        .preview-philosophical {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }

        .preview-innovation {
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
        }

        .preview-framework {
            background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
        }

        .preview-artistic {
            background: linear-gradient(135deg, #ec4899 0%, #f97316 100%);
        }

        .preview-themed {
            background: linear-gradient(135deg, #1f2937 0%, #4b5563 100%);
        }

        .game-info {
            padding: 15px;
        }

        .game-title {
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .game-mini-desc {
            color: #6b7280;
            font-size: 0.9em;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .game-badges {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .badge {
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.75em;
            font-weight: bold;
        }

        .badge-new { background: #10b981; color: white; }
        .badge-hot { background: #ef4444; color: white; }
        .badge-3d { background: #3b82f6; color: white; }
        .badge-ai { background: #8b5cf6; color: white; }
        .badge-music { background: #ec4899; color: white; }

        .game-play-link {
            display: block;
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 8px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .game-play-link:hover {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
        }

        /* Floating Action Buttons */
        .fab-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
        }

        .fab {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.5em;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Loading Animation */
        .loader {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loader.active {
            display: block;
        }

        .loader-icon {
            width: 50px;
            height: 50px;
            border: 4px solid var(--light);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .featured-grid {
                grid-template-columns: 1fr;
            }

            .filter-controls {
                flex-direction: column;
            }

            .search-container {
                width: 100%;
            }

            .fab-container {
                bottom: 20px;
                right: 20px;
            }

            .fab {
                width: 50px;
                height: 50px;
                font-size: 1.2em;
            }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
        }

        .tooltip::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.85em;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .tooltip:hover::before {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üéÆ Tetris Universe</h1>
            <p class="subtitle">166 Innovative Games ‚Ä¢ 14 Branches ‚Ä¢ Infinite Possibilities</p>

            <!-- Stats -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number">166</div>
                    <div class="stat-label">Total Games</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #ec4899, #f97316);">
                    <div class="stat-number">10</div>
                    <div class="stat-label">Revolutionary</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #10b981, #06b6d4);">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Frameworks</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b, #ef4444);">
                    <div class="stat-number">40+</div>
                    <div class="stat-label">Unique Concepts</div>
                </div>
            </div>
        </div>

        <!-- Featured Games -->
        <div class="featured-section">
            <h2 class="section-title">
                <span class="section-icon">‚≠ê</span>
                Featured Innovations
            </h2>
            <div class="featured-grid">
                <!-- Chronotris -->
                <div class="featured-card" onclick="window.location.href='innovations/final-opus/chronotris.html'">
                    <div class="featured-preview preview-chronotris"></div>
                    <div class="featured-content">
                        <div class="featured-title">Chronotris</div>
                        <div class="featured-description">
                            Manage three parallel timelines simultaneously! Actions in the past affect the future,
                            creating a mind-bending temporal puzzle experience.
                        </div>
                        <div class="featured-tags">
                            <span class="tag tag-innovation">Innovation</span>
                            <span class="tag tag-physics">Time Mechanics</span>
                        </div>
                        <a href="innovations/final-opus/chronotris.html" class="play-button">Play Now ‚Üí</a>
                    </div>
                </div>

                <!-- Quantris -->
                <div class="featured-card" onclick="window.location.href='innovations/final-opus/quantris.html'">
                    <div class="featured-preview preview-quantris"></div>
                    <div class="featured-content">
                        <div class="featured-title">Quantris</div>
                        <div class="featured-description">
                            Pieces exist in quantum superposition until observed! Probability clouds collapse into reality
                            based on your actions.
                        </div>
                        <div class="featured-tags">
                            <span class="tag tag-innovation">Innovation</span>
                            <span class="tag tag-physics">Quantum Physics</span>
                        </div>
                        <a href="innovations/final-opus/quantris.html" class="play-button">Play Now ‚Üí</a>
                    </div>
                </div>

                <!-- Diplomtetris -->
                <div class="featured-card" onclick="window.location.href='innovations/final-opus/diplomtetris.html'">
                    <div class="featured-preview preview-diplomtetris"></div>
                    <div class="featured-content">
                        <div class="featured-title">Diplomtetris</div>
                        <div class="featured-description">
                            Negotiate with 3 AI opponents! Trade pieces, form alliances, and manage resources
                            in this strategic multiplayer variant.
                        </div>
                        <div class="featured-tags">
                            <span class="tag tag-ai">AI Opponents</span>
                            <span class="tag tag-innovation">Strategy</span>
                        </div>
                        <a href="innovations/final-opus/diplomtetris.html" class="play-button">Play Now ‚Üí</a>
                    </div>
                </div>

                <!-- Empathris -->
                <div class="featured-card" onclick="window.location.href='innovations/final-opus/empathris.html'">
                    <div class="featured-preview preview-empathris"></div>
                    <div class="featured-content">
                        <div class="featured-title">Empathris</div>
                        <div class="featured-description">
                            The game reads your emotional state through play patterns and adapts difficulty
                            to keep you in the flow state.
                        </div>
                        <div class="featured-tags">
                            <span class="tag tag-ai">Adaptive AI</span>
                            <span class="tag tag-innovation">Psychology</span>
                        </div>
                        <a href="innovations/final-opus/empathris.html" class="play-button">Play Now ‚Üí</a>
                    </div>
                </div>

                <!-- Symphtetris -->
                <div class="featured-card" onclick="window.location.href='innovations/final-opus/symphtetris.html'">
                    <div class="featured-preview preview-symphtetris"></div>
                    <div class="featured-content">
                        <div class="featured-title">Symphtetris</div>
                        <div class="featured-description">
                            Compose music through piece placement! Each column is a note, height determines pitch,
                            creating real-time melodies.
                        </div>
                        <div class="featured-tags">
                            <span class="tag tag-music">Musical</span>
                            <span class="tag tag-innovation">Creative</span>
                        </div>
                        <a href="innovations/final-opus/symphtetris.html" class="play-button">Play Now ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="filter-section">
            <div class="filter-controls">
                <div class="search-container">
                    <span class="search-icon">üîç</span>
                    <input type="text" class="search-input" placeholder="Search 166 games..." id="searchInput">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterGames('all')">All</button>
                    <button class="filter-btn" onclick="filterGames('innovation')">Innovations</button>
                    <button class="filter-btn" onclick="filterGames('3d')">3D Games</button>
                    <button class="filter-btn" onclick="filterGames('artistic')">Artistic</button>
                    <button class="filter-btn" onclick="filterGames('philosophy')">Philosophy</button>
                </div>
                <select class="sort-dropdown" onchange="sortGames(this.value)">
                    <option value="name">Sort by Name</option>
                    <option value="category">Sort by Category</option>
                    <option value="newest">Newest First</option>
                    <option value="random">Random</option>
                </select>
            </div>
        </div>

        <!-- Categories -->
        <div class="categories-section">
            <div class="category-card" onclick="showCategory('philosophical')">
                <div class="category-icon">üß†</div>
                <div class="category-title">Philosophical Foundation</div>
                <div class="category-count">7 games</div>
                <div class="category-description">Wittgenstein's language games exploring meaning and context</div>
            </div>

            <div class="category-card" onclick="showCategory('innovations')">
                <div class="category-icon">üöÄ</div>
                <div class="category-title">Revolutionary Innovations</div>
                <div class="category-count">10 games</div>
                <div class="category-description">Never-before-seen mechanics that redefine Tetris</div>
            </div>

            <div class="category-card" onclick="showCategory('frameworks')">
                <div class="category-icon">‚öôÔ∏è</div>
                <div class="category-title">Framework Showcases</div>
                <div class="category-count">15+ games</div>
                <div class="category-description">Three.js, D3.js, Chart.js technical demonstrations</div>
            </div>

            <div class="category-card" onclick="showCategory('artistic')">
                <div class="category-icon">üé®</div>
                <div class="category-title">Artistic p5.js</div>
                <div class="category-count">20+ games</div>
                <div class="category-description">Creative coding with visual effects and particles</div>
            </div>

            <div class="category-card" onclick="showCategory('themed')">
                <div class="category-icon">üé¨</div>
                <div class="category-title">Themed Variations</div>
                <div class="category-count">11 games</div>
                <div class="category-description">Matrix and other themed aesthetics</div>
            </div>

            <div class="category-card" onclick="showCategory('history')">
                <div class="category-icon">üìö</div>
                <div class="category-title">Development History</div>
                <div class="category-count">60+ games</div>
                <div class="category-description">Evolution across 4 development iterations</div>
            </div>
        </div>

        <!-- Games Grid -->
        <div class="games-section" id="gamesSection">
            <h2 class="section-title">
                <span class="section-icon">üéÆ</span>
                <span id="categoryTitle">All Games</span>
            </h2>
            <div class="games-grid" id="gamesGrid">
                <!-- Games will be dynamically loaded here -->
            </div>
            <div class="loader" id="loader">
                <div class="loader-icon"></div>
                <p>Loading games...</p>
            </div>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <button class="fab tooltip" data-tooltip="Random Game" onclick="playRandomGame()">üé≤</button>
        <button class="fab tooltip" data-tooltip="Back to Top" onclick="window.scrollTo(0, 0)">‚¨ÜÔ∏è</button>
    </div>

    <script>
        // Game Database
        const games = {
            philosophical: [
                { title: 'Classic Tetris', path: 'philosophical-foundation/classic-tetris.html', desc: 'The original block-stacking experience', badges: ['Classic'] },
                { title: 'Language Tetris', path: 'philosophical-foundation/language-tetris.html', desc: 'Pieces change meaning with context', badges: ['Philosophy', 'Educational'] },
                { title: 'Wittgenstein Game', path: 'philosophical-foundation/wittgenstein-game.html', desc: 'Comprehensive language philosophy', badges: ['Philosophy'] },
                { title: "Builder's Apprentice", path: 'philosophical-foundation/builders-apprentice.html', desc: 'Learn language through action', badges: ['Educational'] },
                { title: 'Context Shift', path: 'philosophical-foundation/context-shift.html', desc: 'Same words, different meanings', badges: ['Philosophy'] },
                { title: 'Family Resemblance', path: 'philosophical-foundation/family-resemblance.html', desc: 'Explore conceptual networks', badges: ['Philosophy'] },
                { title: 'Lost in Translation', path: 'philosophical-foundation/lost-in-translation.html', desc: 'Cross-cultural communication', badges: ['Educational'] }
            ],
            innovations: [
                { title: 'Oblivitris', path: 'innovations/final-opus/oblivitris.html', desc: 'Memory-based invisible Tetris', badges: ['Memory', 'HOT'] },
                { title: 'Philosophtris', path: 'innovations/final-opus/philosophtris.html', desc: '7 philosophical systems as gameplay', badges: ['Philosophy', 'NEW'] },
                { title: 'Quantris', path: 'innovations/final-opus/quantris.html', desc: 'Quantum superposition mechanics', badges: ['Physics', 'HOT'] },
                { title: 'Chronotris', path: 'innovations/final-opus/chronotris.html', desc: 'Three parallel timelines', badges: ['Time', 'HOT'] },
                { title: 'Narratris', path: 'innovations/final-opus/narratris.html', desc: 'Story-driven with multiple endings', badges: ['Story'] },
                { title: 'Ecotris', path: 'innovations/final-opus/ecotris.html', desc: 'Ecosystem simulation with food chains', badges: ['Simulation'] },
                { title: 'Symphtetris', path: 'innovations/final-opus/symphtetris.html', desc: 'Compose music through placement', badges: ['Music', 'HOT'] },
                { title: 'Architris', path: 'innovations/final-opus/architris.html', desc: 'Structural engineering physics', badges: ['Physics'] },
                { title: 'Empathris', path: 'innovations/final-opus/empathris.html', desc: 'Emotion-responsive gameplay', badges: ['AI', 'NEW'] },
                { title: 'Diplomtetris', path: 'innovations/final-opus/diplomtetris.html', desc: 'Negotiate with AI opponents', badges: ['AI', 'Strategy'] }
            ],
            frameworks: [
                { title: 'Three.js Classic', path: 'frameworks/threejs/threejs-tetris-classic.html', desc: '3D rendered classic Tetris', badges: ['3D'] },
                { title: 'Three.js Isometric', path: 'frameworks/threejs/threejs-tetris-isometric.html', desc: 'Isometric 3D perspective', badges: ['3D'] },
                { title: 'Three.js Particles', path: 'frameworks/threejs/threejs-tetris-particles.html', desc: 'Particle effects in 3D', badges: ['3D', 'Visual'] },
                { title: 'D3.js Classic', path: 'frameworks/d3js/d3-tetris-classic.html', desc: 'Data visualization approach', badges: ['DataViz'] },
                { title: 'D3.js DataViz', path: 'frameworks/d3js/d3-tetris-dataviz.html', desc: 'Tetris as data visualization', badges: ['DataViz'] },
                { title: 'D3.js Transitions', path: 'frameworks/d3js/d3-tetris-transitions.html', desc: 'Smooth animated transitions', badges: ['Animation'] },
                { title: 'Chart.js Bars', path: 'frameworks/chartjs/chartjs-tetris-bars.html', desc: 'Tetris with bar charts', badges: ['Charts'] },
                { title: 'Chart.js Creative', path: 'frameworks/chartjs/chartjs-tetris-creative.html', desc: 'Creative chart usage', badges: ['Charts'] },
                { title: 'Chart.js Hybrid', path: 'frameworks/chartjs/chartjs-tetris-hybrid.html', desc: 'Hybrid visualization', badges: ['Charts'] }
            ]
        };

        let currentFilter = 'all';
        let searchTerm = '';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadAllGames();
            setupSearch();
        });

        // Load all games
        function loadAllGames() {
            const grid = document.getElementById('gamesGrid');
            grid.innerHTML = '';

            Object.entries(games).forEach(([category, categoryGames]) => {
                categoryGames.forEach(game => {
                    const card = createGameCard(game, category);
                    grid.appendChild(card);
                });
            });
        }

        // Create game card
        function createGameCard(game, category) {
            const card = document.createElement('div');
            card.className = 'game-card';
            card.dataset.category = category;
            card.dataset.title = game.title.toLowerCase();

            const previewClass = `preview-${category}`;
            const icon = getIconForCategory(category);

            card.innerHTML = `
                <div class="game-preview ${previewClass}">
                    ${icon}
                </div>
                <div class="game-info">
                    <div class="game-title">${game.title}</div>
                    <div class="game-mini-desc">${game.desc}</div>
                    <div class="game-badges">
                        ${game.badges.map(badge => `
                            <span class="badge ${getBadgeClass(badge)}">${badge}</span>
                        `).join('')}
                    </div>
                    <a href="${game.path}" class="game-play-link">Play Game</a>
                </div>
            `;

            return card;
        }

        // Get icon for category
        function getIconForCategory(category) {
            const icons = {
                philosophical: 'üß†',
                innovations: 'üöÄ',
                frameworks: '‚öôÔ∏è',
                artistic: 'üé®',
                themed: 'üé¨',
                history: 'üìö'
            };
            return icons[category] || 'üéÆ';
        }

        // Get badge class
        function getBadgeClass(badge) {
            const lower = badge.toLowerCase();
            if (lower === 'hot') return 'badge-hot';
            if (lower === 'new') return 'badge-new';
            if (lower === '3d') return 'badge-3d';
            if (lower === 'ai') return 'badge-ai';
            if (lower === 'music') return 'badge-music';
            return '';
        }

        // Filter games
        function filterGames(filter) {
            currentFilter = filter;
            const cards = document.querySelectorAll('.game-card');

            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter cards
            cards.forEach(card => {
                if (filter === 'all') {
                    card.style.display = 'block';
                } else {
                    const badges = card.querySelectorAll('.badge');
                    const hasFilter = Array.from(badges).some(badge =>
                        badge.textContent.toLowerCase().includes(filter.toLowerCase())
                    );
                    const isCategory = card.dataset.category === filter;

                    card.style.display = (hasFilter || isCategory) ? 'block' : 'none';
                }
            });
        }

        // Show category
        function showCategory(category) {
            const cards = document.querySelectorAll('.game-card');
            const title = document.getElementById('categoryTitle');

            // Update title
            const categoryNames = {
                philosophical: 'Philosophical Foundation',
                innovations: 'Revolutionary Innovations',
                frameworks: 'Framework Showcases',
                artistic: 'Artistic p5.js',
                themed: 'Themed Variations',
                history: 'Development History'
            };
            title.textContent = categoryNames[category] || 'All Games';

            // Filter cards
            cards.forEach(card => {
                card.style.display = card.dataset.category === category ? 'block' : 'none';
            });

            // Scroll to games section
            document.getElementById('gamesSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Setup search
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', (e) => {
                searchTerm = e.target.value.toLowerCase();
                const cards = document.querySelectorAll('.game-card');

                cards.forEach(card => {
                    const title = card.dataset.title;
                    const desc = card.querySelector('.game-mini-desc').textContent.toLowerCase();
                    const matches = title.includes(searchTerm) || desc.includes(searchTerm);
                    card.style.display = matches ? 'block' : 'none';
                });
            });
        }

        // Sort games
        function sortGames(sortBy) {
            const grid = document.getElementById('gamesGrid');
            const cards = Array.from(grid.children);

            cards.sort((a, b) => {
                if (sortBy === 'name') {
                    return a.dataset.title.localeCompare(b.dataset.title);
                } else if (sortBy === 'category') {
                    return a.dataset.category.localeCompare(b.dataset.category);
                } else if (sortBy === 'random') {
                    return Math.random() - 0.5;
                }
                return 0;
            });

            // Re-append sorted cards
            cards.forEach(card => grid.appendChild(card));
        }

        // Play random game
        function playRandomGame() {
            const allPaths = [];
            Object.values(games).forEach(categoryGames => {
                categoryGames.forEach(game => allPaths.push(game.path));
            });
            const randomPath = allPaths[Math.floor(Math.random() * allPaths.length)];
            window.location.href = randomPath;
        }
    </script>
</body>
</html>